import mongoose, { Connection } from 'mongoose';
import env from '../../globals';
import coddyger from '../../coddyger';

export class MongooseDataAccess {
	private options: Object;

	constructor() {
		this.options = {
			useNewUrlParser: true,
			useUnifiedTopology: true
		};
	}

	connect() {
		mongoose
			.connect(env.database.connectionString!, this.options)
			.then(() => {
				coddyger.konsole('MongoDB connectÃ©');
			})
			.catch((err: any) => {
				coddyger.konsole('MongoDB error', 1);
				console.log(err);
			});
	}
}
